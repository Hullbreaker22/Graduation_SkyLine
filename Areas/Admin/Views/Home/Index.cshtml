<main>
    <div class="container-fluid px-4">
        <h1 class="mt-4">Dashboard</h1>
        <ol class="breadcrumb mb-4">
            <li class="breadcrumb-item active">Dashboard</li>
        </ol>
        <div class="row">
            <div class="col-xl-3 col-md-6">
                <div class="card bg-primary text-white mb-4">
                    <div class="card-body">Primary Card</div>
                    <div class="card-footer d-flex align-items-center justify-content-between">
                        <a class="small text-white stretched-link" href="#">View Details</a>
                        <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6">
                <div class="card bg-warning text-white mb-4">
                    <div class="card-body">Warning Card</div>
                    <div class="card-footer d-flex align-items-center justify-content-between">
                        <a class="small text-white stretched-link" href="#">View Details</a>
                        <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6">
                <div class="card bg-success text-white mb-4">
                    <div class="card-body">Success Card</div>
                    <div class="card-footer d-flex align-items-center justify-content-between">
                        <a class="small text-white stretched-link" href="#">View Details</a>
                        <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6">
                <div class="card bg-danger text-white mb-4">
                    <div class="card-body">Danger Card</div>
                    <div class="card-footer d-flex align-items-center justify-content-between">
                        <a class="small text-white stretched-link" href="#">View Details</a>
                        <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-6">
                <div class="card mb-4">
                    <div class="card-header">
                        <i class="fas fa-chart-area me-1"></i>
                        Area Chart Example
                    </div>
                    <div class="card-body"><canvas id="myAreaChart" width="100%" height="40"></canvas></div>
                </div>
            </div>
            <div class="col-xl-6">
                <div class="card mb-4">
                    <div class="card-header">
                        <i class="fas fa-chart-bar me-1"></i>
                        Bar Chart Example
                    </div>
                    <div class="card-body"><canvas id="myBarChart" width="100%" height="40"></canvas></div>
                </div>
            </div>
        </div>
        <div class="card mb-4">
            <div class="card-header">
                <i class="fas fa-table me-1"></i>
                DataTable Example
            </div>
            <div class="card-body">
                <table id="flightsTable" class="table table-hover">
                    <thead class="bg-primary text-white">
                        <tr>
                            <th>Flight Code</th>
                            <th>Translated Code</th>
                            <th>Duration</th>
                            <th>Leaving Time</th>
                            <th>Arriving Time</th>
                            <th>Leaving Airport</th>
                            <th>Arrive Airport</th>
                            <th>Airline</th>
                            <th>Price</th>
                            <th>Available Seats</th>
                            <th>Stop Points</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var flight in ViewBag.Flights as List<Flight>)
                        {
                            <tr>
                                <td>@flight.Flight_Code</td>
                                <td>@flight.Transate_FlightCode</td>
                                <td>@flight.Duration</td>
                                <td>@flight.Leaving_Time.ToString("yyyy-MM-dd HH:mm")</td>
                                <td>@flight.Arriving_Time.ToString("yyyy-MM-dd HH:mm")</td>
                                <td>@flight.LeavingAirport?.Name</td>
                                <td>@flight.ArriveAirport?.Name</td>
                                <td>@flight.AirLine?.Name</td>
                                <td>@flight.Price.ToString("C")</td>
                                <td>@flight.AvailableSeats</td>
                                <td>@flight.StopPoints</td>
                                <td>
                                    <a class="btn btn-sm btn-info" href="/Flight/Details/@flight.Flight_Id_PK">Details</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
                <nav class="d-flex justify-content-center mt-4" aria-label="Page navigation example">
                    <ul class="pagination">


                        @if (ViewBag.CurrentPage > 1)
                        {
                            <li class="page-item">
                                <a class="page-link" href="/Admin/Home/Index?page=@(ViewBag.CurrentPage - 1)">Previous</a>
                            </li>
                        }


                        @for (int i = 1; i <= ViewBag.TotalPages; i++)
                        {
                            <li class="page-item @(i == ViewBag.CurrentPage ? "active" : "")">
                                <a class="page-link" href="/Admin/Home/Index?page=@i">@i</a>
                            </li>
                        }


                        @if (ViewBag.CurrentPage < ViewBag.TotalPages)
                        {
                            <li class="page-item">
                                <a class="page-link" href="/Admin/Home/Index?page=@(ViewBag.CurrentPage + 1)">Next</a>
                            </li>
                        }

                    </ul>
                </nav>
            </div>
        </div>
    </div>
</main>